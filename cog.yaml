# cog.yaml
build:
  gpu: true
  cuda: "12.1"
  python_version: "3.10"

  system_packages:
    - "ffmpeg"
    - "git"

  python_packages:
    # PyTorch CUDA 12.1
    - "torch==2.4.1+cu121"          
    - "torchvision==0.19.1+cu121"   
    - "torchaudio==2.4.1+cu121"   

    # Performans paketleri
    - "xformers==0.0.28.post1"     
    - "flash_attn==2.7.4.post1"

    # Genel bağımlılıklar
    - "librosa"
    - "misaki[en]"
    - "ninja"
    - "psutil"
    - "packaging"
    - "wheel"
    - "ffmpeg-python"
    - "huggingface_hub>=0.23.0"
    - "opencv-python"
    - "scipy"
    - "numpy"
    - "soundfile"

  run:
    - "python -c \"print('Build OK')\""

predict: "predict.py:Predictor"
